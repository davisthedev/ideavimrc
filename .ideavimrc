Plug 'tpope/vim-surround'

set clipboard+=unnamed
set clipboard+=ideaput

let mapleader = " "

set nu
set tabstop=2
set softtabstop=2
set shiftwidth=2
set visualbell
set showmode
set hlsearch
set ignorecase
set smartcase
set incsearch
set smartcase
set timeoutlen = 300
set updatetime=50
set number
set showmode
set relativenumber
set scrolloff = 10
set guicursor = false
set ideajoin
set idearefactormode=keep
set wrap=false
set smartindent

" Use Q for formatting the current paragraph (or visual selection)
vmap Q gq
nmap Q gqap

" Closing tabs
nmap <leader>q :action CloseContent<cr>
nmap <leader>Q :action ReopenClosedTab<cr>

nnoremap <C-z>      :action ToggleDistractionFreeMode<cr>
nnoremap <Space>sv  :source ~/.ideavimrc<cr>

" Switch projects
nmap <leader>ww :action NextProjectWindow<cr>

" Splits manipulation
nmap <leader>ws :action SplitHorizontally<cr>
nmap <leader>wv :action SplitVertically<cr>
nmap <leader>wc :action Unsplit<cr>
nmap <leader>wC :action UnsplitAll<cr>
nmap <leader>wd :action OpenEditorInOppositeTabGroup<cr>

nnoremap <leader>s :%s//g<Left><Left>

" vnoremap J :m '>+1<CR>gv=gv'
" vnoremap K :m '<-2<CR>gv=gv'
vnoremap J :m '>+1<CR>
vnoremap K :m '<-2<CR>


nnoremap <c-\> :action SplitVertically<CR>
nnoremap <c--> :action SplitHorizontally<CR>
nnoremap <c-=> :action Unsplit<CR>
nnoremap <c-m> :action MoveEditorToOppositeTabGroup<CR>
sethandler <c-j> a:vim
sethandler <c-k> a:vim
nnoremap <c-h> <c-w>h
nnoremap <c-l> <c-w>l
nnoremap <c-j> <c-w>j
nnoremap <c-k> <c-w>k

nnoremap <leader>en :action EditSourceInNewWindow<CR>
nnoremap <leader>n :action NextWindow<CR>
nnoremap <leader>qc :action CloseContent<CR>
nnoremap <leader>qa :action CloseAllEditors<CR>

vnoremap < <gv
vnoremap > >gv

nnoremap [[ :action MethodUp<CR>
nnoremap ]] :action MethodDown<CR>

nnoremap <leader>r :action Refactorings.QuickListPopupAction<CR>
nnoremap <Leader>F  :action ReformatCode<CR>
nnoremap <leader>o :action OptimizeImports<CR>
nnoremap <leader>? :action RecentFiles<CR>

nnoremap [d :action GotoNextError<CR>
nnoremap ]d :action GotoPreviousError<CR>

nnoremap <leader>/ :action Find<cr>
nnoremap <leader>sf :action FindInPath<cr>
nnoremap <leader>sg :action SearchEverywhere<cr>
nnoremap <leader>gd :action GotoDeclaration<cr>
nnoremap <leader>gi :action GotoImplementation<cr>
nnoremap <leader>gc :action GotoClass<cr>
nnoremap <leader>gt :action GotoTypeDeclaration<cr>
nnoremap <leader>oi :action OptimizeImports<cr>
nnoremap <leader>bd :action CloseActiveTab<cr>
nnoremap <leader>e :action ShowErrorDescription<cr>


nnoremap <S-h>      :action PreviousTab<cr>
nnoremap <S-l>      :action NextTab<cr>
nnoremap K          :action QuickJavaDoc<cr>
nnoremap D          :action QuickImplementations<cr>

inoremap jk <Esc>
vnoremap jk <Esc>

nnoremap <leader>pv :action

" Increase or decrease font size
nnoremap <C-=> :action EditorIncreaseFontSize<cr>
nnoremap <C--> :action EditorDecreaseFontSize<cr>
